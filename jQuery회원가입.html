<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì›ê°€ì…</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function sample6_execDaumPostcode() {
            new daum.Postcode({
                oncomplete: function(data) {
                    // íŒì—…ì—ì„œ ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­í–ˆì„ë•Œ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„.
    
                    // ê° ì£¼ì†Œì˜ ë…¸ì¶œ ê·œì¹™ì— ë”°ë¼ ì£¼ì†Œë¥¼ ì¡°í•©í•œë‹¤.
                    // ë‚´ë ¤ì˜¤ëŠ” ë³€ìˆ˜ê°€ ê°’ì´ ì—†ëŠ” ê²½ìš°ì—” ê³µë°±('')ê°’ì„ ê°€ì§€ë¯€ë¡œ, ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ë¶„ê¸° í•œë‹¤.
                    var addr = ''; // ì£¼ì†Œ ë³€ìˆ˜
                    var extraAddr = ''; // ì°¸ê³ í•­ëª© ë³€ìˆ˜
    
                    //ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œ íƒ€ì…ì— ë”°ë¼ í•´ë‹¹ ì£¼ì†Œ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
                    if (data.userSelectedType === 'R') { // ì‚¬ìš©ìê°€ ë„ë¡œëª… ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ê²½ìš°
                        addr = data.roadAddress;
                    } else { // ì‚¬ìš©ìê°€ ì§€ë²ˆ ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ê²½ìš°(J)
                        addr = data.jibunAddress;
                    }
    
                    // ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œê°€ ë„ë¡œëª… íƒ€ì…ì¼ë•Œ ì°¸ê³ í•­ëª©ì„ ì¡°í•©í•œë‹¤.
                    if(data.userSelectedType === 'R'){
                        // ë²•ì •ë™ëª…ì´ ìˆì„ ê²½ìš° ì¶”ê°€í•œë‹¤. (ë²•ì •ë¦¬ëŠ” ì œì™¸)
                        // ë²•ì •ë™ì˜ ê²½ìš° ë§ˆì§€ë§‰ ë¬¸ìê°€ "ë™/ë¡œ/ê°€"ë¡œ ëë‚œë‹¤.
                        if(data.bname !== '' && /[ë™|ë¡œ|ê°€]$/g.test(data.bname)){
                            extraAddr += data.bname;
                        }
                        // ê±´ë¬¼ëª…ì´ ìˆê³ , ê³µë™ì£¼íƒì¼ ê²½ìš° ì¶”ê°€í•œë‹¤.
                        if(data.buildingName !== '' && data.apartment === 'Y'){
                            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                        }
                        // í‘œì‹œí•  ì°¸ê³ í•­ëª©ì´ ìˆì„ ê²½ìš°, ê´„í˜¸ê¹Œì§€ ì¶”ê°€í•œ ìµœì¢… ë¬¸ìì—´ì„ ë§Œë“ ë‹¤.
                        if(extraAddr !== ''){
                            extraAddr = ' (' + extraAddr + ')';
                        }
                        // ì¡°í•©ëœ ì°¸ê³ í•­ëª©ì„ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                        document.getElementById("sample6_extraAddress").value = extraAddr;
                    
                    } else {
                        document.getElementById("sample6_extraAddress").value = '';
                    }
    
                    // ìš°í¸ë²ˆí˜¸ì™€ ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                    document.getElementById('sample6_postcode').value = data.zonecode;
                    document.getElementById("sample6_address").value = addr;
                    // ì»¤ì„œë¥¼ ìƒì„¸ì£¼ì†Œ í•„ë“œë¡œ ì´ë™í•œë‹¤.
                    document.getElementById("sample6_detailAddress").focus();
                }
            }).open();
        } 
        </script>
    <script>
        function sendit(){
            // ì •ê·œì‹
            const expNameText = RegExp(/[ê°€-í£]+$/);
            const expPwText = RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*\W)/);
            const expHpText = RegExp(/^(010)(\d{3,4})(\d{4})$/);
            const expEmailText = RegExp(/^[A-Za-z0-9\.\-]+@[A-Za-z0-9\.\-]+\.[A-Za-z0-9]+$/);

            // ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš°
            if($("#userid").val() == ''){
                alert('ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
                $("#userid").focus();
                return false;
            }

            // ì•„ì´ë””ê°€ 4ì ë¯¸ë§Œ ë˜ëŠ” 16ìë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš°
            if($("#userid").val().length < 4 || $("#userid").val().length > 16){
                alert('ì•„ì´ë””ë¥¼ 4ìì´ìƒ 16ì ì´í•˜ë¡œ ì…ë ¥í•˜ì„¸ìš”');
                $("#userid").focus();
                return false;
            }

            // ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš°
            if($("#userpw").val() == ''){
                alert('ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
                $("#userpw").focus();
                return false;
            }

            // ë¹„ë°€ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì˜ ê°™ì´ ë‹¤ë¥¸ ê²½ìš°
            if($("#userpw").val() != $("#userpw_re").val()){
                alert('ë¹„ë°€ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì˜ ê°’ì´ ë‹¤ë¦…ë‹ˆë‹¤');
                $("#userpw_re").focus();
                return false;
            }

            // ë¹„ë°€ë²ˆí˜¸ì— ìˆ«ì, ëŒ€ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ìê°€ í¬í•¨ë˜ì§€ ì•Šì•˜ì„ ê²½ìš°
            if(!expPwText.test($("#userpw").val())){
                alert('ë¹„ë°€ë²ˆí˜¸ëŠ” ìˆ«ì, ëŒ€ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ìê°€ í¬í•¨ë˜ì–´ì•¼í•©ë‹ˆë‹¤');
                $("#userpw").focus();
                return false;
            }

            // ì´ë¦„ì´ í•œê¸€ì´ ì•„ë‹Œ ê²½ìš°
            if(!expNameText.test($("#name").val())){
                alert('ì´ë¦„ í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”\ní•œê¸€ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤');
                $("#name").focus();
                return false;
            }

           
            // í•¸ë“œí°ë²ˆí˜¸ê°€ í˜•ì‹ì— ë§ì§€ ì•Šì€ ê²½ìš°
            if(!expHpText.test($("#hp").val())){
                alert('íœ´ëŒ€í°ë²ˆí˜¸ í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”\n(-)ì„ ì œì™¸í•œ íœ´ëŒ€í°ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”\níœ´ëŒ€í°ë²ˆí˜¸ëŠ” 010ìœ¼ë¡œ ì‹œì‘í•´ì•¼í•©ë‹ˆë‹¤.');
                $("#hp").focus();
                return false;
            }   

            // ì´ë©”ì¼ í˜•ì‹ì´ ë§ì§€ ì•Šì€ ê²½ìš°
            if(!expEmailText.test($("#email").val())){
                alert('ì´ë©”ì¼ í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”');
                $("#email").focus();
                return false;
            }

            // ì·¨ë¯¸ê°€ 1ê°œ ë¯¸ë§Œìœ¼ë¡œ ì²´í¬ ë˜ì—ˆì„ ê²½ìš°
            if($("input:checkbox[name=hobby]:checked").length < 1){
                alert('ì·¨ë¯¸ëŠ” 1ê°œ ì´ìƒ ê³ ë¥´ì„¸ìš”');
                $("#hobby").focus();
                return false;
            }
            
            // ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ê°€ ì…ë ¥ë˜ì§€ ì•Šì€ ê²½ìš°
            if(($("#ssn1").val() == "") || ($("#ssn2").val() == "")){  
                alert("ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"); 
                $("#ssn1").focus(); 
                return false; 
            }
            return true;
                        
        }
        
        // ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì²´í¬í•˜ê¸°
        function ssnCheck(){
            const ssn1 = document.getElementById("ssn1");
            const ssn2 = document.getElementById("ssn2");
            const isssn = document.getElementById("isssn");

            if( $("#ssn1").val() == '' || $("#ssn1").val() == '') {
                alert('ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
                $("#ssn1").focus();
                return false;
            }

            const ssn = $("#ssn1").val() + $("#ssn2").val();    // 0010113068518

            const s1 = Number(ssn.substr(0, 1)) * 2;
            const s2 = Number(ssn.substr(1, 1)) * 3;
            const s3 = Number(ssn.substr(2, 1)) * 4;
            const s4 = Number(ssn.substr(3, 1)) * 5;
            const s5 = Number(ssn.substr(4, 1)) * 6;
            const s6 = Number(ssn.substr(5, 1)) * 7;
            const s7 = Number(ssn.substr(6, 1)) * 8;
            const s8 = Number(ssn.substr(7, 1)) * 9;
            const s9 = Number(ssn.substr(8, 1)) * 2;
            const s10 = Number(ssn.substr(9, 1)) * 3;
            const s11 = Number(ssn.substr(10, 1)) * 4;
            const s12 = Number(ssn.substr(11, 1)) * 5;
            const s13 = Number(ssn.substr(12, 1));
            
            let result = s1+s2+s3+s4+s5+s6+s7+s8+s9+s10+s11+s12;
            result = result % 11;
            result = 11- result;
            if(result >= 10) result = result % 10;

            if(result == s13){
                alert('ìœ íš¨í•œ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ì…ë‹ˆë‹¤');
                $("#isssn").val() = "y";
            }else{
                alert('ìœ íš¨í•˜ì§€ ì•Šì€ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ì…ë‹ˆë‹¤');
            }
        }
    
        function moveFocus(){
            const ssn1 = document.getElementById("ssn1");
            if($("ssn1").val().length >= 6){
                document.getElementById("ssn2").focus();
            }
        }

        function changeSsn(){
            const isssn = document.getElementById("isssn");
            $("#isssn").val() = "n";
        }

    </script>

</head>
<body>
    <h2>ğŸ’œ íšŒì›ê°€ì… ğŸ’œ</h2>
    <form action="regist_ok.jsp" name="regform" id="regform" method="post" onsubmit="return sendit()">
        <input type="hidden" name="isssn" id="isssn" value="n">
        <p><label>ì•„ì´ë”” : <input type="text" name="userid" id="userid" maxlength="20"></label></p>
        <p><label>ë¹„ë°€ë²ˆí˜¸ : <input type="password" name="userpw" id="userpw" maxlength="20"></label></p>
        <p><label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸ : <input type="password" name="userpw_re" id="userpw_re" maxlength="20"></label></p>
        <p><label>ì´ë¦„ : <input type="text" name="name" id="name"></label></p>
        <p><label>íœ´ëŒ€í° ë²ˆí˜¸ : <input type="text" name="hp" id="hp"></label></p>
        <!-- <p><input type="button" value="ê°€ì…ì™„ë£Œ" onclick="sendit()"> <input type="reset" value="ë‹¤ì‹œì‘ì„±"></p> -->
        <p><label>ì´ë©”ì¼ : <input type="text" name="email" id="email"></label></p>
        <p>ì·¨ë¯¸ : <label>ë“œë¼ì´ë¸Œ<input type="checkbox" name="hobby" value="ë“œë¼ì´ë¸Œ"></label> <label>ì˜í™”ê°ìƒ<input type="checkbox" name="hobby" value="ì˜í™”ê°ìƒ"></label> <label>ì‡¼í•‘<input type="checkbox" name="hobby" value="ì‡¼í•‘"></label> <label>ìš”ê°€<input type="checkbox" name="hobby" value="ìš”ê°€"></label> <label>í—¬ìŠ¤<input type="checkbox" name="hobby" value="í—¬ìŠ¤"></label></p>
        <p>ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ : <input type="text" name="ssn1" id="ssn1" maxlength="6" onkeyup="moveFocus()" onkeydown="changeSsn()"> - <input type="password" name="ssn2" id="ssn2" onkeydown="changeSsn()"> <input type="button" id="checkbut" value="ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ê²€ì¦" onclick="ssnCheck()"></p>
        <p><label>ìš°í¸ë²ˆí˜¸ : <input type="text" name="zipcode" id="sample6_postcode" readonly></label> <input type="button" value="ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰" onclick="sample6_execDaumPostcode()"></p>
        <p><label>ì£¼ì†Œ : <input type="text" name="address1" id="sample6_address"></label></p>
        <p><label>ìƒì„¸ì£¼ì†Œ : <input type="text" name="address2" id="sample6_detailAddress"></label></p>
        <p><label>ì°¸ê³ í•­ëª© : <input type="text" name="address3" id="sample6_extraAddress"></label></p>
        <p><input type="submit" id="registbut" value="ê°€ì…ì™„ë£Œ"> <input type="reset" value="ë‹¤ì‹œì‘ì„±"></p>
    </form>
</body>
</html>